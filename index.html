<!DOCTYPE html>
<html lang="fr">
<head>
    <title>Tahiti customize - Dress configuration</title>
    <meta charset="UTF-8"/>
    <meta name="viewport" content="width=device-width,initial-scale=1.0"/>
    <script type="text/javascript"
            src="https://cdnjs.cloudflare.com/ajax/libs/angular.js/1.6.5/angular.min.js"></script>
    <script type="text/javascript"
            src="https://cdnjs.cloudflare.com/ajax/libs/angular.js/1.6.5/angular-animate.min.js"></script>
    <script type="text/javascript"
            src="https://cdnjs.cloudflare.com/ajax/libs/PapaParse/4.3.5/papaparse.min.js"></script>
    <script type="text/javascript"
            src="js/dress-config.js"></script>
    <link rel="stylesheet" type="text/css" href="css/dress-config.css"/>
    <link rel="stylesheet" type="text/css" href="css/tahiti-caption.css"/>
    <link rel="stylesheet" type="text/css" href="css/tahiti-total-price.css"/>
    <link rel="stylesheet" type="text/css" href="css/tahiti-radio-group.css"/>
    <link rel="stylesheet" type="text/css" href="css/tahiti-dropdown-select.css"/>
    <link rel="stylesheet" type="text/css" href="css/tahiti-dress-slider.css"/>
    <link href="https://fonts.googleapis.com/css?family=Open+Sans" rel="stylesheet">
</head>
<body>
<header style="display: block; height: 88px; background: #961326;"></header>
<main ng-app="DressConfigApp" class="dress-config__container">

    <initial-loader class="tenant-loader"
                    data-preload-img-01="img/model-round--back.png"
                    data-preload-img-02="img/model-round--front.png"
                    data-preload-img-03="img/model-skinny--back.png"
                    data-preload-img-04="img/model-skinny--front.png"></initial-loader>

    <article ng-controller="DressConfigCtrl" class="dress-config clear-fix">
        <section id="silhouette-section" class="clear-fix">
            <tahiti-radio-group id="silhouette-sizes-selection"
                                class="silhouette-sizes-aside"
                                caption-title="Taille"
                                caption-icon="img/icon_size.png"
                                mobile-layout="vertical"
                                items="lists.sizes"
                                ng-model="criteria.sizeId"></tahiti-radio-group>
            <div id="silhouette-main-content" class="silhouette-main-content">
                <tahiti-total-price id="silhouette-section-price"
                                    class="tahiti-total-price--integrated"
                                    total="total"></tahiti-total-price>
                <div id="silhouette-section-image-slider">
                    <tahiti-dress-slider criteria="criteria"
                                         initial-variant="front"
                                         tissues="lists.tissues"></tahiti-dress-slider>
                </div>
            </div>
        </section>
        <section id="dress-configuration-options-section" class="clear-fix">
            <tahiti-radio-group id="tissue-selection"
                                caption-title="Tissu"
                                caption-icon="img/icon_palette.png"
                                tiles="true"
                                items="lists.tissues"
                                ng-model="criteria.tissueId"></tahiti-radio-group>
            <tahiti-radio-group id="laces-selection"
                                caption-title="Dentelle"
                                caption-icon="img/icon_laces.png"
                                items="lists.laces"
                                ng-model="criteria.laceId"></tahiti-radio-group>
            <tahiti-radio-group id="flower-selection"
                                caption-title="Fleur"
                                caption-icon="img/icon_flower.png"
                                items="lists.flowers"
                                ng-model="criteria.flowerId"></tahiti-radio-group>
        </section>
        <section id="delivery-section" class="clear-fix">
            <tahiti-dropdown-select id="delivery-dropdown"
                                    caption-title="Livraison"
                                    caption-icon="img/icon_delivery.png"
                                    large="true"
                                    items="lists.deliveries"
                                    ng-model="criteria.deliveryId"></tahiti-dropdown-select>
            <tahiti-dropdown-select id="crafted-dropdown"
                                    caption-title="Cousu"
                                    caption-icon="img/icon_sewn.png"
                                    items="[{id: 'true', label: 'Oui'}, {id: 'false', label: 'Non'}]"
                                    ng-model="criteria.crafted"></tahiti-dropdown-select>
            <div id="dress-description" class="dress-config__description">
                <tahiti-caption caption-title="Description"
                                caption-icon="img/icon_description.png"></tahiti-caption>
                <p class="dress-config__description-text" ng-bind="::description"></p>
            </div>
            <tahiti-total-price id="total-price-bottom"
                                class="tahiti-total-price--standalone"
                                total="total"></tahiti-total-price>
        </section>
    </article>

    <script id="/tahiti-caption.html" type="text/ng-template">
        <h2 class="tahiti-caption">
            <img ng-if="captionIcon"
                 ng-src="{{::captionIcon}}"
                 class="tahiti-caption__icon"
                 alt="{{::captionTitle}}"/>
            <span class="tahiti-caption__text" ng-bind="::captionTitle"></span>
        </h2>
    </script>

    <script id="/tahiti-radio-group.html" type="text/ng-template">
        <tahiti-caption caption-title="{{captionTitle}}" caption-icon="{{captionIcon}}"></tahiti-caption>
        <ul class="tahiti-radio-group__layout clear-fix"
            ng-class="[
                'tahiti-radio-group__layout--desktop-' + local.desktopLayout,
                'tahiti-radio-group__layout--mobile-' + local.mobileLayout,
                'tahiti-radio-group__layout--' + (local.tiles ? 'tiled' : 'text')
            ]">
            <li ng-repeat="item in local.items track by $index"
                class="tahiti-radio-button__line">
                <label for="{{id + '-' + item.id}}-choice" class="tahiti-radio-button__label clear-fix">
                    <input id="{{id + '-' + item.id}}-choice"
                           ng-checked="item.id === local.selectedId"
                           ng-model="local.selectedId"
                           ng-class="{'tahiti-radio-button__input--hidden': local.tiles}"
                           ng-change="handleChange(item.id)"
                           type="radio"
                           class="tahiti-radio-button__input"
                           name="{{::id}}"
                           value="{{::item.id}}"/>
                    <span class="tahiti-radio-button__mark" ng-if="::(!local.tiles)"></span>
                    <span class="tahiti-radio-button__text" ng-if="::(!local.tiles)" ng-bind="::item.label"></span>
                    <span class="tahiti-radio-button__tile" ng-if="::local.tiles">
                        <img class="tahiti-radio-button__image" ng-src="{{item.icon}}"/>
                    </span>
                </label>
            </li>
        </ul>
    </script>

    <script id="/tahiti-total-price.html" type="text/ng-template">
        <p class="tahiti-total-price__paragraph">
            <span>Prix</span>
            <span class="tahiti-total-price__amount"
                  ng-bind="total.amount | number:2"></span><span class="tahiti-total-price__currency"
                                                                 ng-bind="::total.currency"></span>
        </p>
    </script>

    <script id="/tahiti-dropdown-select.html" type="text/ng-template">
        <tahiti-caption caption-title="{{captionTitle}}" caption-icon="{{captionIcon}}"></tahiti-caption>
        <div class="tahiti-dropdown-select__container">
            <label for="{{id}}-select" class="tahiti-dropdown-select__content">
                <span ng-bind="local.selectedLabel()"
                      class="tahiti-dropdown-select__cover"
                      ng-class="{'tahiti-dropdown-select__cover--large' : large}"></span>
                <select id="{{id}}-select"
                        class="tahiti-dropdown-select__control"
                        ng-class="{'tahiti-dropdown-select__control--large': large}"
                        ng-model="local.selectedId"
                        ng-change="selectOption()">
                    <option ng-repeat="item in local.items track by $index"
                            ng-selected="item.id === local.selectedId"
                            ng-bind="::item.label"
                            value="{{::item.id}}">
                </select>
            </label>
        </div>
    </script>

    <script id="/tahiti-dress-slider.html" type="text/ng-template">
        <div class="tahiti-dress-slider__canvas">
            <div class="tahiti-dress-slider__dress-container">
                <img ng-repeat="tissue in tissues"
                     ng-src="{{tissue.canvas}}"
                     ng-show="tissue.id === criteria.tissueId"
                     ng-class="'tahiti-dress-slider__dress-image--' + getVariant()"
                     class="tahiti-dress-slider__dress-image"/>
            </div>
            <div class="tahiti-dress-slider__body">
                <img class="tahiti-dress-slider__body-image"
                     ng-src="{{'img/model-' + getShape() + '--' + getVariant() + '.png'}}"/>
            </div>
        </div>
        <button class="tahiti-dress-slider__rotate"
                type="button"
                ng-click="rotate()">
            <img class="tahiti-dress-slider__rotate_icon" src="img/icon_rotate.png"/>
        </button>
    </script>

</main>
<footer style="display: block; height: 88px; background: black;"></footer>
</body>
</html>
